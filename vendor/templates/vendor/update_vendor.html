
{% extends 'vendor/base.html' %} 
{% block title %}Update Vendor - {% endblock %}
{% load static %} 
{% load crispy_forms_tags %}
{% block content %}
<div class="card mt-4 mb-4 ml-auto mr-auto" style="max-width: 800px; margin-top:80px !important; padding-bottom:60px !important;background-color:white !important; " >
        <div class="card-header text-center bg-success text-white">
        Update Vendor Profile
        </div>
        <div class="card-body">
       
		
        <form method="POST" action="." enctype="multipart/form-data" >
            {%csrf_token %}
            {{form|crispy}}
            <input type="submit" class="btn btn-primary form-control mt-4" value="Update">
        </form>
        
    
	
	</div>
	
	</div>
{% endblock %}
 {% block main_script %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script>
  function ValidateEmail(mail) {
    var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
    // if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(myForm.emailAddr.value))
    if (mail.match(mailformat)) {
      document.getElementById("usrerr").innerText = "";
      document.getElementById("disbtn1").disabled = false;

      return true;
    }
    document.getElementById("usrerr").innerText =
      "You have entered an invalid email address!";
    document.getElementById("disbtn1").disabled = true;

    return false;
  }

  function validate() {
    var data = document.getElementById("id_username").value;
    checkNumberorEmail();
  }
  function phonenumber(inputtxt) {
    var phoneno = /^\d{10}$/;
    if (inputtxt.match(phoneno)) {
      document.getElementById("usrerr").innerText = "";
      document.getElementById("disbtn1").disabled = false;
      return true;
    } else {
      document.getElementById("usrerr").innerText = "enter 10 digit number";
      document.getElementById("disbtn1").disabled = true;

      return false;
    }
  }

  function checkNumberorEmail() {
    var data = document.getElementById("id_username").value;
    if (isNaN(data)) {
      ValidateEmail(data);
    } else {
      phonenumber(data);
    }
  }
</script>
<script>
  $(document).on("change", "#id_gst", function () {
    var inputvalues = $(this).val();
    var gstinformat = new RegExp(
      "^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$"
    );

    if (gstinformat.test(inputvalues)) {
      return true;
    } else {
      document.getElementById("gstt").innerText =
        "Please Enter Valid GSTIN Number";
      $("#id_gst").val("");
      $("#id_gst").focus();
    }
  });
</script>

{% endblock main_script %}
